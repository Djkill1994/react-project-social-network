{"version":3,"sources":["assets/Image/pngegg.png","api/api.ts","redux/dialogs-reducer.ts","components/Users/Users.module.css","components/Navbar/Navbar.module.css","components/common/FormsControls/FormsControls.js","reportWebVitals.js","components/Navbar/Navbar.jsx","components/Navbar/Friends/Friends.jsx","components/Music/Music.jsx","components/News/News.jsx","components/Settings/Settings.jsx","utils/obj-helpers.js","redux/users-reducer.ts","components/common/Paginator/Paginator.tsx","components/Users/User.jsx","components/Users/Users.tsx","redux/users-selectors.ts","components/Users/UsersContainer.tsx","components/Header/Header.jsx","logoDJKILL.png","redux/auth-reducer.ts","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/app-reducer.ts","hok/withSuspense.js","App.js","redux/redux-store.ts","index.js","assets/Image/Preloader.svg","components/common/Preloader/Preloader.js","components/common/FormsControls/FormControls.module.css","utils/validators/validators.js","components/common/Paginator/Paginator.module.css","components/Header/Header.module.css","redux/profile-reducer.ts"],"names":["ResultCodesEnum","ResultCodeForCaptchaEnum","instance","axios","create","baseURL","withCredentials","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unFollow","delete","getProfile","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","me","res","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","ADD_MESSAGE","initialState","dialogData","id","name","messageData","message","addMessageActionCreator","newMessageBody","type","dialogsReducer","state","action","body","module","exports","FormControl","meta","touched","error","children","input","hasError","className","styles","formControl","TextArea","props","restProps","child","Input","createField","placeholder","validators","component","text","validate","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Navbar","connect","dialogsPage","map","f","avatar","s","nav","item","to","activeClassName","activeLink","Music","News","Settings","updateObjectInArray","items","itemsId","objPropName","newObjProps","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","toggleIsFetching","toggleFollowingProgress","_followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","count","filter","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","onClick","p","cn","selectedPage","pageNumber","e","User","user","unfollow","src","photos","small","userPhoto","style","photoUrl","alt","disabled","some","Users","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","this","pageTitle","Preloader","React","Component","compose","page","getState","totalCount","Header","header","loginBlock","isAuth","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","captchaUrl","getCaptchaUrlSuccess","payload","setAuthUserData","getAuthUserData","meData","Success","url","authReducer","HeaderContainer","auth","LoginReduxForm","reduxForm","form","handleSubmit","onSubmit","required","formSummaryError","CaptchaIsRequired","messages","length","stopSubmit","_error","INITIALIZED_SUCCESS","initialized","appReducer","withSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","withRouter","app","promise","Promise","all","rootReducer","combineReducers","profilePage","profileReducer","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","basename","document","getElementById","background","preloader","values","maxLengthCreator","maxLength","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","postsData","likesCount","newPostText","addPostActionCreator","setStatus","getUserProfile","file","reject","postsId"],"mappings":"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","file":"static/js/main.88b1c26a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/pngegg.bf3d81a3.png\";","import axios from \"axios\";\r\nimport {ProfileType} from \"../types/types\";\r\n\r\n\r\nconst instance = axios.create({\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    withCredentials: true,\r\n    headers: {\r\n        \"API-KEY\": \"1821a07d-76d2-415f-8071-1ef0e98d2af4\"\r\n    },\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    },\r\n    follow(userId: number) {\r\n        return instance.post(`follow/${userId}`,)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    },\r\n\r\n    unFollow(userId: number) {\r\n        return instance.delete(`follow/${userId}`,)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    },\r\n    getProfile(userId: number) {\r\n        return profileAPI.getProfile(userId)\r\n    },\r\n};\r\nexport const profileAPI = {\r\n    getProfile(userId: number) {\r\n        return instance.get(`profile/` + userId)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    },\r\n    getStatus(userId: number) {\r\n        return instance.get(`profile/status/` + userId)\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance.put(`profile/status`, {status: status})\r\n        //try catch прочитать\r\n    },\r\n    savePhoto(photoFile: any) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photoFile)\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-type': 'multipart/from-data'\r\n            }\r\n        })\r\n    },\r\n    saveProfile(profile: ProfileType) {\r\n        return instance.put(`profile`, profile)\r\n    },\r\n}\r\n\r\nexport enum ResultCodesEnum {\r\n    Success = 0,\r\n    Error = 1,\r\n}\r\n\r\nexport enum ResultCodeForCaptchaEnum {\r\n    CaptchaIsRequired= 10,\r\n}\r\n\r\ntype MeResponseType = {\r\n    data: {\r\n        id: number\r\n        email: string\r\n        login: string\r\n    }\r\n    resultCode: ResultCodesEnum\r\n    messages: Array<string>\r\n}\r\n\r\ntype LoginResponseType = {\r\n    data: {\r\n        userId: number\r\n    }\r\n    resultCode: ResultCodesEnum | ResultCodeForCaptchaEnum\r\n    messages: Array<string>\r\n}\r\n\r\n//types\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get<MeResponseType>(`auth/me`).then(res => res.data)\r\n    },\r\n    login(email: string, password: string, rememberMe = false, captcha: null | string = null) {\r\n        return instance.post<LoginResponseType>(`auth/login`, {email, password, rememberMe, captcha}).then(res => res.data)\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    },\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get(`security/get-captcha-url`)\r\n    },\r\n\r\n}\r\n\r\n","const ADD_MESSAGE = 'ADD-MESSAGE'\r\n\r\ntype DialogType = {\r\n    id: number | null\r\n    name: string | null\r\n\r\n}\r\ntype MessageType = {\r\n    id: number | null\r\n    message: string | null\r\n}\r\n\r\nlet initialState = {\r\n        dialogData: [\r\n            {id: 1, name: 'Vlad'},\r\n            {id: 2, name: 'Christina'},\r\n            {id: 3, name: 'Kirill'},\r\n            {id: 4, name: 'Matvei'},\r\n        ] as Array<DialogType>,\r\n        messageData: [\r\n            {id: 1, message: 'Hi'},\r\n            {id: 2, message: 'Hello World'},\r\n            {id: 3, message: 'React it`s cool'},\r\n            {id: 4, message: 'Yo'},\r\n        ] as Array<MessageType>,\r\n    };\r\n\r\nexport type InitialStateType = typeof initialState;\r\n\r\nconst dialogsReducer = (state = initialState, action: any): InitialStateType => {\r\n    switch (action.type) {\r\n        case ADD_MESSAGE:\r\n            let body = action.newMessageBody\r\n            return {\r\n                ...state,\r\n                messageData: [...state.messageData, {id: 5, message: body}],\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\ntype AddMessageActionCreatorActionType = {\r\n    type: typeof ADD_MESSAGE\r\n    newMessageBody: string\r\n}\r\n\r\nexport const addMessageActionCreator = (newMessageBody: string):AddMessageActionCreatorActionType => ({type: ADD_MESSAGE, newMessageBody});\r\n\r\nexport default dialogsReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoUrl\":\"Users_photoUrl__oPJ1F\",\"selectedPage\":\"Users_selectedPage__2QpV_\",\"selectedPageNumber\":\"Users_selectedPageNumber__2VyYI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2q1Qh\",\"item\":\"Navbar_item__1L-2l\",\"activeLink\":\"Navbar_activeLink__ap4cS\",\"friends\":\"Navbar_friends__3eWxk\",\"friendsItem\":\"Navbar_friendsItem__COIXW\",\"friend\":\"Navbar_friend__ycmGi\"};","import styles from \"./FormControls.module.css\"\r\nimport {Field} from \"redux-form\";\r\n\r\nexport const FormControl = ({meta: {touched, error}, input, children}) => {\r\n\r\n    const hasError = touched && error;\r\n\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : \" \")}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>)\r\n};\r\n\r\nexport const TextArea = (props) => {\r\n    const {meta, input, child, ...restProps} = props;\r\n    return <FormControl{...props}><textarea {...input} {...restProps}/> </FormControl>\r\n};\r\n\r\nexport const Input = (props) => {\r\n    const {meta, input, child, ...restProps} = props;\r\n    return <FormControl{...props}><input {...input} {...restProps}/> </FormControl>\r\n};\r\n\r\n    export const createField = (placeholder, name, validators, component, props = {}, text = \"\") => (\r\n    <div>\r\n        <Field placeholder={placeholder} name={name}\r\n               validate={validators} component={component}\r\n               {...props}/> {text}\r\n    </div>\r\n);","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import s from \"./Navbar.module.css\"\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Friends from \"./Friends/Friends\";\r\n\r\nconst Navbar = () => {\r\n            return (\r\n                <nav className={s.nav}>\r\n                    <div className={s.item}>\r\n                        <NavLink to={'/profile'} activeClassName={s.activeLink}>Profile</NavLink>\r\n                    </div>\r\n                    <div className={s.item}>\r\n                        <NavLink to={'/dialogs'} activeClassName={s.activeLink}>Messages</NavLink>\r\n                    </div>\r\n                    <div className={s.item}>\r\n                        <NavLink to={'/users'} activeClassName={s.activeLink}>Users</NavLink>\r\n                    </div>\r\n                    <div className={s.item}>\r\n                        <NavLink to={'/news'} activeClassName={s.activeLink}>News</NavLink>\r\n                    </div>\r\n                    <div className={s.item}>\r\n                        <NavLink to={'/music'} activeClassName={s.activeLink}>Music</NavLink>\r\n                    </div>\r\n                    <div className={s.item}>\r\n                        <NavLink to={'/settings'} activeClassName={s.activeLink}>Settings</NavLink>\r\n                    </div>\r\n                    {/*<div className={s.friends}>*/}\r\n                    {/*    Friends*/}\r\n                    {/*    <div className={s.friendsItem}>*/}\r\n                    {/*        <Friends/>*/}\r\n                    {/*    </div>*/}\r\n                    {/*</div>*/}\r\n                </nav>\r\n            );\r\n};\r\n\r\nexport default Navbar","import {connect} from \"react-redux\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        dialogData: state.dialogsPage.dialogData\r\n    }\r\n}\r\nconst friendsBar = (props)=>{\r\n    return props.dialogData.map(f => <div>{f.avatar} {f.name}</div>)\r\n}\r\nconst Friends = connect(mapStateToProps)(friendsBar)\r\n\r\nexport default Friends;","import s from './Music.module.css'\r\n\r\nconst Music = (props) =>{\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Music","import s from './News.module.css'\r\n\r\nconst News = (props) => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default News","import s from './Settings.module.css'\r\n\r\nconst Settings = (props) => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Settings","export const updateObjectInArray = (items, itemsId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemsId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n}","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/obj-helpers\";\r\nimport {UsersType} from \"../types/types\"\r\nimport {AppStateType} from \"./redux-store\";\r\nimport {Dispatch} from \"redux\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\nimport users from \"../components/Users/Users\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\n\r\nlet initialState = {\r\n    users: [] as Array<UsersType>,\r\n    pageSize: 10 as number,\r\n    totalUsersCount: 0 as number,\r\n    currentPage: 1 as number,\r\n    isFetching: true as boolean,\r\n    followingInProgress: [] as Array<number>,\r\n};\r\n\r\ntype InitialStateType = typeof initialState;\r\n\r\nconst usersReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n            }\r\n        case SET_USERS: {\r\n            return {\r\n                ...state, users: action.users\r\n            }\r\n        }\r\n        case\r\n        SET_CURRENT_PAGE: {\r\n            return {\r\n                ...state, currentPage: action.currentPage\r\n            }\r\n        }\r\n        case\r\n        SET_TOTAL_USERS_COUNT: {\r\n            return {\r\n                ...state, totalUsersCount: action.count\r\n            }\r\n        }\r\n        case\r\n        TOGGLE_IS_FETCHING: {\r\n            return {\r\n                ...state, isFetching: action.isFetching\r\n            }\r\n        }\r\n        case\r\n        TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n// Action\r\ntype ActionsTypes =\r\n    FollowSuccessActionType\r\n    | UnfollowSuccessActionType\r\n    | SetUsersActionType\r\n    | SetCurrentPageActionType\r\n    |\r\n    SetTotalUsersCountActionType\r\n    | ToggleIsFetchingActionType\r\n    | ToggleFollowingProgressActionType\r\n\r\ntype FollowSuccessActionType = {\r\n    type: typeof FOLLOW\r\n    userId: number\r\n}\r\nexport const followSuccess = (userId: number): FollowSuccessActionType => ({type: FOLLOW, userId});\r\ntype UnfollowSuccessActionType = {\r\n    type: typeof UNFOLLOW\r\n    userId: number\r\n}\r\nexport const unfollowSuccess = (userId: number): UnfollowSuccessActionType => ({type: UNFOLLOW, userId});\r\ntype SetUsersActionType = {\r\n    type: typeof SET_USERS\r\n    users: Array<UsersType>\r\n}\r\nexport const setUsers = (users: Array<UsersType>): SetUsersActionType => ({type: SET_USERS, users});\r\ntype SetCurrentPageActionType = {\r\n    type: typeof SET_CURRENT_PAGE\r\n    currentPage: number\r\n}\r\nexport const setCurrentPage = (currentPage: number): SetCurrentPageActionType => ({\r\n    type: SET_CURRENT_PAGE,\r\n    currentPage\r\n});\r\ntype SetTotalUsersCountActionType = {\r\n    type: typeof SET_TOTAL_USERS_COUNT\r\n    count: number\r\n}\r\nexport const setTotalUsersCount = (totalUsersCount: number): SetTotalUsersCountActionType => ({\r\n    type: SET_TOTAL_USERS_COUNT,\r\n    count: totalUsersCount\r\n});\r\ntype ToggleIsFetchingActionType = {\r\n    type: typeof TOGGLE_IS_FETCHING\r\n    isFetching: boolean\r\n}\r\nexport const toggleIsFetching = (isFetching: boolean): ToggleIsFetchingActionType => ({\r\n    type: TOGGLE_IS_FETCHING,\r\n    isFetching\r\n});\r\ntype ToggleFollowingProgressActionType = {\r\n    type: typeof TOGGLE_IS_FOLLOWING_PROGRESS\r\n    isFetching: boolean\r\n    userId: number\r\n}\r\nexport const toggleFollowingProgress = (isFetching: boolean, userId: number): ToggleFollowingProgressActionType => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n});\r\n\r\n\r\ntype ThunkType = ThunkAction<Promise<void>, AppStateType, unknown, ActionsTypes>\r\ntype DispatchType = Dispatch<ActionsTypes>\r\n\r\nexport const requestUsers = (page: number, pageSize: number): ThunkType => {\r\n    return async (dispatch, getState) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(page));\r\n\r\n        const data = await usersAPI.getUsers(page, pageSize)\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n    }\r\n};\r\n\r\nconst _followUnfollowFlow = async (dispatch: DispatchType, userId: number,\r\n                                   apiMethod: any, actionCreator: (userId: number) => FollowSuccessActionType | UnfollowSuccessActionType) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    const data = await apiMethod(userId)\r\n    if (data.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId))\r\n}\r\n\r\nexport const follow = (userId: number): ThunkType => {\r\n    return async (dispatch) => {\r\n        _followUnfollowFlow(dispatch, userId, usersAPI.follow, followSuccess)\r\n    }\r\n};\r\n\r\nexport const unfollow = (userId: number): ThunkType => {\r\n    return async (dispatch) => {\r\n        _followUnfollowFlow(dispatch, userId, usersAPI.unFollow, unfollowSuccess)\r\n    }\r\n};\r\n\r\nexport default usersReducer","import React, {useState} from \"react\";\r\nimport styles from './Paginator.module.css'\r\nimport cn from \"classnames\"\r\n\r\ntype PropsType = {\r\n    totalItemsCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    onPageChanged: (pageNumber: number) => void\r\n    portionSize?: number\r\n}\r\n\r\n\r\nlet Paginator: React.FC<PropsType> = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n    let pages: Array<number> = [];\r\n\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return <div className={styles.paginator}>\r\n        {portionNumber > 1 &&\r\n            <button onClick={() => {\r\n                setPortionNumber(portionNumber - 1)\r\n            }}>PREV</button>}\r\n        {pages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber).map((p) => {\r\n            return <span className={cn({[styles.selectedPage]: currentPage === p}, styles.pageNumber)}\r\n                         key={p}\r\n                         onClick={(e) => {\r\n                             onPageChanged(p);\r\n                         }}>{p}</span>\r\n        })}\r\n        {portionCount > portionNumber &&\r\n            <button onClick={() => {\r\n                setPortionNumber(portionNumber + 1)\r\n            }}>NEXT</button>}\r\n    </div>\r\n}\r\n\r\nexport default Paginator","import React from \"react\";\r\nimport style from './Users.module.css'\r\nimport userPhoto from '../../assets/Image/pngegg.png'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet User = ({user, followingInProgress, follow, unfollow}) => {\r\n    return (<div>\r\n                <span>\r\n                    <div>\r\n                        <NavLink to={'/profile/' + user.id}>\r\n                        <img src={user.photos.small != null ? user.photos.small : userPhoto} className={style.photoUrl}\r\n                             alt={'no img'}/>\r\n                        </NavLink>\r\n                    </div>\r\n                    <div>\r\n                        {user.followed\r\n                            ? <button disabled={followingInProgress\r\n                                .some(id => id === user.id)} onClick={() => {\r\n                                unfollow(user.id)\r\n                            }\r\n                            }>UnFollow</button>\r\n\r\n                            : <button disabled={followingInProgress\r\n                                .some(id => id === user.id)} onClick={() => {\r\n                                follow(user.id)\r\n                            }\r\n                            }>Follow</button>}\r\n                    </div>\r\n                </span>\r\n                <span>\r\n                    <span>\r\n                        <div>{user.name}</div>\r\n                        <div>{user.status}</div>\r\n                    </span>\r\n                    <span>\r\n                        <div>u.location.country</div>\r\n                        <div>u.location.city</div>\r\n                    </span>\r\n                </span>\r\n    </div>)\r\n}\r\nexport default User","import React from \"react\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\nimport {UsersType} from \"../../types/types\";\r\n\r\ntype PropsType = {\r\n    currentPage: number\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    onPageChanged: (pageNumber:number) => void\r\n    users: Array<UsersType>\r\n    followingInProgress: Array<number>\r\n    unfollow: (userId:number) => void\r\n    follow: (userId:number) => void\r\n}\r\n\r\nlet Users: React.FC<PropsType> = ({currentPage, totalUsersCount, pageSize, onPageChanged, users, ...props}) => {\r\n    return <div>\r\n        <Paginator currentPage={currentPage} totalItemsCount={totalUsersCount}\r\n                   pageSize={pageSize} onPageChanged={onPageChanged}/>\r\n        <div>\r\n            {\r\n                users.map(u => <User user={u}\r\n                                     followingInProgress={props.followingInProgress}\r\n                                     unfollow={props.unfollow}\r\n                                     follow={props.follow}\r\n                                     key={u.id}/>)}\r\n        </div>\r\n    </div>\r\n}\r\nexport default Users","import {createSelector} from \"reselect\";\r\nimport {AppStateType} from \"./redux-store\";\r\n\r\nconst getUsersSelector = (state: AppStateType) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n    return users.filter(u => true);\r\n})\r\n\r\nexport const getPageSize = (state: AppStateType) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state: AppStateType) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state: AppStateType) => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state: AppStateType) => {\r\n    return state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = (state: AppStateType) => {\r\n    return state.usersPage.followingInProgress;\r\n}","import {connect} from \"react-redux\";\r\nimport {\r\n    follow, requestUsers,\r\n    unfollow\r\n} from \"../../redux/users-reducer\";\r\nimport React from \"react\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount, getUsers\r\n} from \"../../redux/users-selectors\";\r\nimport {UsersType} from \"../../types/types\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\n\r\ntype MapStatePropsType = {\r\n    currentPage:number\r\n    pageSize:number\r\n    isFetching: boolean\r\n    totalUsersCount: number\r\n    users: Array<UsersType>\r\n    followingInProgress: Array<number>\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    getUsers: (currentPage: number, pageSize:number) => void\r\n    unfollow: (userId:number) => void\r\n    follow: (userId:number) => void\r\n}\r\n\r\ntype OwnPropsType = {\r\n    pageTitle: string\r\n}\r\n\r\ntype PropsType = MapStatePropsType & MapDispatchPropsType & OwnPropsType\r\n\r\nclass UsersContainer extends React.Component<PropsType> {\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props\r\n        this.props.getUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber:number) => {\r\n        const {pageSize} = this.props\r\n        this.props.getUsers(pageNumber, pageSize);\r\n    };\r\n\r\n\r\n    render() {\r\n        return <>\r\n            <h2>{this.props.pageTitle}</h2>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users\r\n                totalUsersCount={this.props.totalUsersCount}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                onPageChanged={this.onPageChanged}\r\n                users={this.props.users}\r\n                unfollow={this.props.unfollow}\r\n                follow={this.props.follow}\r\n                followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStatePropsType => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect<MapStatePropsType, MapDispatchPropsType, OwnPropsType, AppStateType>\r\n    (mapStateToProps, {follow, unfollow, getUsers: requestUsers}),\r\n)(UsersContainer);","import logo from \"../../logoDJKILL.png\";\r\nimport s from \"./Header.module.css\"\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <img src={logo} alt='no img'/>\r\n            <div className={s.loginBlock}>\r\n                {props.isAuth ? <div>{props.login} - <button onClick={props.logout}>Log Out</button></div>\r\n                    : <NavLink to={'/login'}>Login</NavLink>}\r\n            </div>\r\n        </header>);\r\n}\r\n\r\nexport default Header","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUoAAACWCAYAAAC4osHlAAAhUklEQVR4Xu2dCZQU1bnHe2SHYUCIOIDigoBHEFkVozEakcgR8CUsLyDu0QcqLhjlgQs8JRANGMVoFDRBnyCCaATcN1BRVMQFEB12kFX2ZVhk6Pf72qp+RTMz3dUbPdP/Oueerq66de93f1X97+8udW8goE0EREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAERCDrCeRkPYEyBCAYDNr9igxWgqAT3P1QqXJycg6WoeLJVBHIWAISygy8NQjiUY5Zdn8q7Ny58yzC2bt27WpSv379lQUFBefXrFmz0OJwPI+PKhaPYMJYxLkNubm5X61bt64x8efw2YZjy9mfzue3CGhRBhZbJolAxhKQUGbIrXHEsRLmnIAQDv/+++9bsF8ZkavVtGnTKghcDb6HBJRzAUQzZPkXX3wRaNasWQBhDH1v0KCB7R/kul1t27Z9lGvHc/hCwnmIahWO72d/C2E9wjk5Ly+vIEMQyAwRyFgCEsojeGtccVy7du1AxLEbQlYfQayLwIVUb968eYGZM2cGOB8gbtjSdu3ahfYRupAwuoLpRrD4FhYvXhwgvQDpBc4///z9bdq0Wcz374n3I2E1cRoinDXZ34ygPopoLj2COJS1CGQsAQllmm+N085YAZHqizheQ/YnInYN8QJD3uKsWbNCXqIJHeIWCohYSVaad2jV6L0EczEtjcoE80ytOl6VtHLMAyWvkOia90mauxHP10l3HHGqm3CSn1Xt7bo1xHk2zViUnQhkNAEJZZpuDwJpbYjVrVpt7Y2EFghVNct+0qRJgblz54YE0fH+Qp6gdzPhXL9+feiQxbXzCNoivh4g/JSfn/81grub/d8QjiGYVxpK39lMTDcglrUItU00zRvt06dPQZcuXTpxbg+hELsaYOPvSb+A9F9KEx5lIwIZTUBCmeLb43iQuXh2/0tWzRGg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\"","import {authAPI, ResultCodeForCaptchaEnum, ResultCodesEnum, securityAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\n\r\nconst SET_USER_DATA = 'react-project-social-network/auth/SET_USER_DATA';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'react-project-social-network/auth/GET_CAPTCHA_URL_SUCCESS';\r\n\r\n\r\n// export type InitialStateType = {\r\n//     userId: number | null\r\n//     login: string | null\r\n//     email: string | null\r\n//     isAuth: boolean\r\n//     captchaUrl: string | null\r\n// }\r\n\r\nlet initialState = {\r\n    userId: null as number | null,\r\n    login: null as string | null,\r\n    email: null as string | null,\r\n    isAuth: false,\r\n    captchaUrl: null  as string | null,\r\n};\r\n\r\nexport type InitialStateType = typeof initialState;\r\n\r\nconst authReducer = (state = initialState, action: any):InitialStateType => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\ntype GetCaptchaUrlSuccessActionType = {\r\n    type: typeof GET_CAPTCHA_URL_SUCCESS,\r\n    payload: {captchaUrl:string}\r\n}\r\n\r\ntype SetAuthUserDataActionPayloadType = {\r\n    userId: number | null\r\n    login: string | null\r\n    email: string | null\r\n    isAuth: boolean\r\n}\r\ntype SetAuthUserDataActionType = {\r\n    type: typeof SET_USER_DATA\r\n    payload: SetAuthUserDataActionPayloadType\r\n}\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl:string): GetCaptchaUrlSuccessActionType => ({\r\n    type: GET_CAPTCHA_URL_SUCCESS, payload: {captchaUrl}\r\n});\r\n\r\nexport const setAuthUserData = (userId: number | null, login: string | null, email: string | null, isAuth: boolean):SetAuthUserDataActionType => ({\r\n    type: SET_USER_DATA,\r\n    payload: {userId, login, email, isAuth}\r\n});\r\n//types\r\nexport const getAuthUserData = () => async (dispatch:any) => {\r\n    const meData = await authAPI.me();\r\n\r\n    if (meData.resultCode === ResultCodesEnum.Success) {\r\n        let {id, login, email} = meData.data;\r\n        dispatch(setAuthUserData(id, login, email, true));\r\n    }\r\n}\r\n\r\nexport const login = (email:string, password: string, rememberMe: boolean, captcha: any) => async (dispatch: any) => {\r\n    const data = await authAPI.login(email, password, rememberMe, captcha);\r\n\r\n    if (data.resultCode === ResultCodesEnum.Success) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        if (data.resultCode === ResultCodeForCaptchaEnum.CaptchaIsRequired) {\r\n            dispatch(getCaptchaUrl());\r\n        }\r\n        let message = data.messages.length > 0 ? data.messages[0] : \"Some error\";\r\n        dispatch(stopSubmit(\"login\", {_error: message}));\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch: any) => {\r\n    const response = await securityAPI.getCaptchaUrl();\r\n    const captchaUrl = response.data.url;\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl));\r\n}\r\n\r\nexport const logout = () => async (dispatch: any) => {\r\n    const response = await authAPI.logout();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false))\r\n    }\r\n}\r\n\r\nexport default authReducer","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\nimport {connect} from \"react-redux\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n})\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import {Field, reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../common/FormsControls/FormsControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport styles from \"./../common/FormsControls/FormControls.module.css\"\r\n\r\nconst LoginForm = ({handleSubmit, error, captchaUrl}) => {\r\n    return <form onSubmit={handleSubmit}>\r\n        {createField('Email', 'email', [required], Input)}\r\n        {createField('Password', 'password', [required], Input, {type: 'password'})}\r\n        {createField(null, 'rememberMe', [], Input, {type: 'checkbox'}, \"remember me\")}\r\n\r\n        {captchaUrl && <img src={captchaUrl} alt={\"no img\"}/>}\r\n        {captchaUrl && createField('Symbols from image', 'captcha', [required], Input)}\r\n\r\n        {error && <div className={styles.formSummaryError}>\r\n            {error}\r\n        </div>}\r\n        <div>\r\n            <button>logIn</button>\r\n        </div>\r\n    </form>\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm);\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n\r\n    return <div>\r\n        <h1>LOGIN</h1>\r\n        <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    captchaUrl: state.auth.captchaUrl,\r\n    isAuth: state.auth.isAuth,\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login)","import {getAuthUserData} from \"./auth-reducer\";\r\n\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\n\r\nexport type InitialStateType = {\r\n    initialized: boolean\r\n}\r\n\r\nlet initialState: InitialStateType = {\r\n    initialized: false,\r\n};\r\n\r\nconst appReducer = (state = initialState, action: any): InitialStateType => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\ntype InitializedSuccessActionType = {\r\n    type: typeof INITIALIZED_SUCCESS\r\n}\r\n\r\nexport const initializedSuccess = (): InitializedSuccessActionType => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => (dispatch: any) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(initializedSuccess());\r\n        })\r\n}\r\n\r\nexport default appReducer;","import React from \"react\";\r\nimport Preloader from \"../components/common/Preloader/Preloader\";\r\n\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={<Preloader/>}>\r\n            <Component {...props} />\r\n        </React.Suspense>\r\n    }\r\n}","import React from \"react\";\nimport './App.css';\nimport Navbar from \"./components/Navbar/Navbar\";\nimport Music from \"./components/Music/Music\";\nimport News from \"./components/News/News\";\nimport Settings from \"./components/Settings/Settings\";\nimport {Route, Switch, withRouter} from \"react-router-dom\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport {initializeApp} from \"./redux/app-reducer\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\nimport {compose} from \"redux\";\nimport {withSuspense} from \"./hok/withSuspense\";\n\nconst DialogsContainer = React.lazy(() => import(\"./components/Dialogs/DialogsContainer\"));\nconst ProfileContainer = React.lazy(() => import(\"./components/Profile/ProfileContainer\"));\n\nclass App extends Component {\n//     catchAllUnhandledErrors = (reason, promise) => {\n//         alert(\"Some error\")\n//     }\n\n    componentDidMount() {\n        this.props.initializeApp();\n        // window.addEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\n    }\n\n    //\n    // componentWillUnmount() {\n    //     window.removeEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\n    // }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n\n        return (\n            <div className={'app-wrapper'}>\n                <HeaderContainer/>\n                <Navbar/>\n\n                <div className={'app-wrapper-content'}>\n                    <Switch>\n                        {/*<Route path='/profile/:userId?' render={() => <Redirect to={\"/profile\"}/>}/>*/}\n                        <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)}/>\n                        <Route path='/dialogs' render={withSuspense(DialogsContainer)}/>\n                        <Route path='/music' render={() => <Music/>}/>\n                        <Route path='/news' render={() => <News/>}/>\n                        <Route path='/settings' render={() => <Settings/>}/>\n                        <Route path='/users' render={() => <UsersContainer pageTitle={\"Samurai\"}/>}/>\n                        <Route path='/login' render={() => <Login/>}/>\n\n                        <Route path='*'\n                               render={() => <div>Hello People , this my training project!!!))) Samurai SocialNetwork\n                                   Typescript-React-React-Redux!!!!\n                               </div>}/>\n                    </Switch>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized\n})\n\nexport default compose(\n    withRouter,\n    connect(mapStateToProps, {initializeApp}))(App);","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet rootReducer = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n});\r\n\r\ntype RootReducerType = typeof rootReducer;\r\nexport type AppStateType = ReturnType<RootReducerType>\r\n\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nexport default store","import './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport store from \"./redux/redux-store\";\nimport {Provider} from \"react-redux\";\nimport {HashRouter} from \"react-router-dom\";\n\n\nReactDOM.render(\n    <HashRouter basename={'react-project-social-network'}>\n        <Provider store={store}>\n            <App/>\n        </Provider>\n    </HashRouter>, document.getElementById('root'));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","export default __webpack_public_path__ + \"static/media/Preloader.258f028f.svg\";","import preloader from '../../../assets/Image/Preloader.svg'\r\n\r\nlet Preloader = (props) => {\r\n    return <div style={{background: 'white'}}>\r\n        <img src={preloader}/>\r\n    </div>\r\n}\r\n\r\nexport default Preloader","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__eTnc6\",\"error\":\"FormControls_error__2RuuM\",\"formSummaryError\":\"FormControls_formSummaryError__1AjDF\"};","export const required = (values) => {\r\n    if (values) return undefined;\r\n\r\n    return \"Field is required\"\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (values) => {\r\n    if (values.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__39GUk\",\"pageNumber\":\"Paginator_pageNumber__16ddA\",\"selectedPage\":\"Paginator_selectedPage__1WpoV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1QU0W\",\"loginBlock\":\"Header_loginBlock__3_RR2\"};","import {profileAPI, usersAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {PostType,\r\n        ProfileType,\r\n        PhotosType,} from \"../types/types\"\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\r\n\r\n\r\n\r\nlet initialState = {\r\n    postsData: [\r\n        {id: 1, message: 'Hi, how are you?', likesCount: 3},\r\n        {id: 2, message: 'It\\'s my first post', likesCount: 14},\r\n    ] as Array<PostType>,\r\n    profile: null as ProfileType | null,\r\n    status: '',\r\n    newPostText: ''\r\n}\r\n\r\nexport type InitialStateType = typeof initialState;\r\n\r\nconst profileReducer = (state = initialState, action: any): InitialStateType => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let text = action.newPostText\r\n            return {\r\n                ...state,\r\n                postsData: [...state.postsData, {id: 3, message: text, likesCount: 0}],\r\n                newPostText: '',\r\n            }\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state, profile: action.profile\r\n            }\r\n        case SET_STATUS:\r\n            return {\r\n                ...state, status: action.status\r\n            }\r\n        case DELETE_POST:\r\n            return {\r\n               ...state, postsData: state.postsData.filter(p => p.id != action.postsId)\r\n            }\r\n        case SAVE_PHOTO_SUCCESS:\r\n            return {\r\n                ...state, profile: {...state.profile, photos: action.photos } as ProfileType\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\ntype AddPostActionCreatorActionType = {\r\n    type: typeof ADD_POST\r\n    newPostText: string\r\n}\r\nexport const addPostActionCreator = (newPostText:string): AddPostActionCreatorActionType => ({type: ADD_POST, newPostText});\r\ntype SetUserProfileActionType = {\r\n    type: typeof SET_USER_PROFILE\r\n    profile: ProfileType\r\n}\r\nexport const setUserProfile = (profile:ProfileType): SetUserProfileActionType => ({type: SET_USER_PROFILE, profile});\r\ntype DeletePostActionType = {\r\n    type: typeof DELETE_POST\r\n    postsId: number\r\n}\r\nexport const deletePost = (postsId:number): DeletePostActionType => ({type: DELETE_POST, postsId});\r\ntype SetStatusActionType = {\r\n    type: typeof SET_STATUS\r\n    status: string\r\n}\r\nexport const setStatus = (status:string): SetStatusActionType => ({type: SET_STATUS, status});\r\ntype SavePhotoSuccessActionType = {\r\n    type: typeof SAVE_PHOTO_SUCCESS\r\n    photos: PhotosType\r\n}\r\nexport const savePhotoSuccess = (photos:PhotosType): SavePhotoSuccessActionType => ({type: SAVE_PHOTO_SUCCESS, photos});\r\n\r\nexport const getUserProfile = (userId:number) => async (dispatch:any) => {\r\n   const response = await usersAPI.getProfile(userId)\r\n            dispatch(setUserProfile(response));\r\n};\r\nexport const getStatus = (userId:number) => async (dispatch:any) => {\r\n   const response = await profileAPI.getStatus(userId)\r\n            dispatch(setStatus(response.data));\r\n};\r\n\r\nexport const updateStatus = (status:string) => async (dispatch:any) => {\r\n   const response = await profileAPI.updateStatus(status)\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(setStatus(status));\r\n            }\r\n};\r\n\r\nexport const savePhoto = (file:any) => async (dispatch:any) => {\r\n    const response = await profileAPI.savePhoto(file)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos));\r\n    }\r\n};\r\n\r\nexport const saveProfile = (profile:ProfileType) => async (dispatch:any, getState:any) => {\r\n    const userId = getState().auth.userId;\r\n    const response = await profileAPI.saveProfile(profile)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getUserProfile(userId));\r\n    }else{\r\n        dispatch(stopSubmit(\"edit-profile\", {_error: response.data.messages[0]}))\r\n        return Promise.reject(response.data.messages[0])\r\n    }\r\n    // dispatch(stopSubmit(\"edit-profile\", {\"contacts\": {'facebook':response.data.messages[0]}}))\r\n};\r\n\r\n\r\nexport default profileReducer\r\n"],"sourceRoot":""}