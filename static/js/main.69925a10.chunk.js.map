{"version":3,"sources":["assets/Image/pngegg.png","redux/dialogs-reducer.js","components/Navbar/Navbar.module.css","components/Users/Users.module.css","api/api.js","components/common/FormsControls/FormsControls.js","reportWebVitals.js","components/Navbar/Friends/Friends.jsx","components/Navbar/Navbar.jsx","components/Music/Music.jsx","components/News/News.jsx","components/Settings/Settings.jsx","utils/obj-helpers.js","redux/users-reducer.js","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","logoDJKILL.png","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","Hok/withSuspense.js","App.js","redux/redux-store.js","index.js","assets/Image/Preloader.svg","components/common/Preloader/Preloader.js","components/common/FormsControls/FormControls.module.css","utils/validators/validators.js","components/common/Paginator/Paginator.module.css","components/Header/Header.module.css","redux/profile-reducer.js"],"names":["ADD_MESSAGE","initialState","dialogData","id","name","avatar","src","messageData","message","addMessageActionCreator","newMessageBody","type","dialogsReducer","state","action","body","module","exports","instance","axios","create","baseURL","withCredentials","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unFollow","delete","getProfile","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","FormControl","meta","touched","error","children","input","hasError","className","styles","formControl","TextArea","props","restProps","child","Input","createField","placeholder","validators","component","text","validate","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Friends","connect","dialogsPage","map","f","Navbar","s","nav","item","to","activeClassName","activeLink","friends","friendsItem","Music","News","Settings","updateObjectInArray","items","itemsId","objPropName","newObjProps","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","count","filter","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","onClick","p","cn","selectedPage","pageNumber","e","User","user","unfollow","photos","small","userPhoto","style","photoUrl","alt","disabled","some","Users","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","this","Preloader","React","Component","compose","page","totalCount","Header","header","loginBlock","isAuth","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","captchaUrl","getCaptchaUrlSuccess","payload","setAuthUserData","getAuthUserData","url","authReducer","HeaderContainer","auth","LoginReduxForm","reduxForm","form","handleSubmit","onSubmit","required","formSummaryError","messages","length","stopSubmit","_error","INITIALIZED_SUCCESS","initialized","appReducer","withSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","catchAllUnhandledErrors","reason","promise","alert","initializeApp","window","addEventListener","removeEventListener","path","render","withRouter","app","Promise","all","reducers","combineReducers","profilePage","profileReducer","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","document","getElementById","background","preloader","values","maxLengthCreator","maxLength","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","postsData","likesCount","addPostActionCreator","newPostText","setStatus","getUserProfile","file","getState","reject","postsId"],"mappings":"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","file":"static/js/main.69925a10.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/pngegg.bf3d81a3.png\";","const ADD_MESSAGE = 'ADD-MESSAGE'\r\n\r\nlet initialState = {\r\n    dialogData: [\r\n        {\r\n            id: 1,\r\n            name: 'Vlad',\r\n            avatar: <img\r\n                src={'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQg3o8FrMr_MkWHpiLuDOr-13ZhTUAY6ijTz6Nh5dygapOo4ppn1gagOtS690zVlQMcFso&usqp=CAU'}/>\r\n        },\r\n        {\r\n            id: 2,\r\n            name: 'Christina',\r\n            avatar: <img\r\n                src={'https://pristor.ru/wp-content/uploads/2018/05/%D0%9A%D1%80%D0%B0%D1%81%D0%B8%D0%B2%D1%8B%D0%B5-%D0%BA%D0%B0%D1%80%D1%82%D0%B8%D0%BD%D0%BA%D0%B8-%D0%BD%D0%B0-%D0%B0%D0%B2%D1%83-%D0%BF%D1%80%D0%BE-%D0%BC%D0%BE%D1%80%D0%B5-%D0%BE%D0%BA%D0%B5%D0%B0%D0%BD-%D0%B2%D0%BE%D0%B4%D1%83-%D1%81%D0%B1%D0%BE%D1%80%D0%BA%D0%B0-2018-11.jpg'}/>\r\n        },\r\n        {\r\n            id: 3,\r\n            name: 'Kirill',\r\n            avatar: <img src={'https://www.meme-arsenal.com/memes/be50e6ba99654b5455027dcc82beb5b3.jpg'}/>\r\n        },\r\n        {\r\n            id: 4,\r\n            name: 'Matvei',\r\n            avatar: <img src={'https://klike.net/uploads/posts/2019-03/1551511801_1.jpg'}/>\r\n        },\r\n    ],\r\n    messageData: [\r\n        {id: 1, message: 'Hi'},\r\n        {id: 2, message: 'Hello World'},\r\n        {id: 3, message: 'React it`s cool'},\r\n        {id: 4, message: 'Yo'},\r\n    ],\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_MESSAGE:\r\n            let body = action.newMessageBody\r\n            return {\r\n                ...state,\r\n                messageData: [...state.messageData, {id:5 ,message: body}],\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const addMessageActionCreator = (newMessageBody) => ({type: ADD_MESSAGE, newMessageBody});\r\n\r\nexport default dialogsReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2q1Qh\",\"item\":\"Navbar_item__1L-2l\",\"activeLink\":\"Navbar_activeLink__ap4cS\",\"friends\":\"Navbar_friends__3eWxk\",\"friendsItem\":\"Navbar_friendsItem__COIXW\",\"friend\":\"Navbar_friend__ycmGi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoUrl\":\"Users_photoUrl__oPJ1F\",\"selectedPage\":\"Users_selectedPage__2QpV_\",\"selectedPageNumber\":\"Users_selectedPageNumber__2VyYI\"};","import axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    withCredentials: true,\r\n    headers: {\r\n        \"API-KEY\": \"1821a07d-76d2-415f-8071-1ef0e98d2af4\"\r\n    },\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`,)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    },\r\n\r\n    unFollow(userId) {\r\n        return instance.delete(`follow/${userId}`,)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    },\r\n    getProfile(userId) {\r\n        return profileAPI.getProfile(userId)\r\n    },\r\n};\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status})\r\n        //try catch прочитать\r\n    },\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photoFile)\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-type': 'multipart/from-data'\r\n            }\r\n        })\r\n    },\r\n    saveProfile(profile) {\r\n        return instance.put(`profile`, profile)\r\n    },\r\n}\r\n\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(email, password, rememberMe = false, captcha = null) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe, captcha})\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    },\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get(`security/get-captcha-url`)\r\n    },\r\n\r\n}\r\n\r\n","import styles from \"./FormControls.module.css\"\r\nimport {Field} from \"redux-form\";\r\n\r\nexport const FormControl = ({meta: {touched, error}, input, children}) => {\r\n\r\n    const hasError = touched && error;\r\n\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : \" \")}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>)\r\n};\r\n\r\nexport const TextArea = (props) => {\r\n    const {meta, input, child, ...restProps} = props;\r\n    return <FormControl{...props}><textarea {...input} {...restProps}/> </FormControl>\r\n};\r\n\r\nexport const Input = (props) => {\r\n    const {meta, input, child, ...restProps} = props;\r\n    return <FormControl{...props}><input {...input} {...restProps}/> </FormControl>\r\n};\r\n\r\n    export const createField = (placeholder, name, validators, component, props = {}, text = \"\") => (\r\n    <div>\r\n        <Field placeholder={placeholder} name={name}\r\n               validate={validators} component={component}\r\n               {...props}/> {text}\r\n    </div>\r\n)","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {connect} from \"react-redux\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        dialogData: state.dialogsPage.dialogData\r\n    }\r\n}\r\nconst friendsBar = (props)=>{\r\n    return props.dialogData.map(f => <div>{f.avatar} {f.name}</div>)\r\n}\r\nconst Friends = connect(mapStateToProps)(friendsBar)\r\n\r\nexport default Friends;","import s from \"./Navbar.module.css\"\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Friends from \"./Friends/Friends\";\r\n\r\nconst Navbar = () => {\r\n            return (\r\n                <nav className={s.nav}>\r\n                    <div className={s.item}>\r\n                        <NavLink to={'/profile'} activeClassName={s.activeLink}>Profile</NavLink>\r\n                    </div>\r\n                    <div className={s.item}>\r\n                        <NavLink to={'/dialogs'} activeClassName={s.activeLink}>Messages</NavLink>\r\n                    </div>\r\n                    <div className={s.item}>\r\n                        <NavLink to={'/users'} activeClassName={s.activeLink}>Users</NavLink>\r\n                    </div>\r\n                    <div className={s.item}>\r\n                        <NavLink to={'/news'} activeClassName={s.activeLink}>News</NavLink>\r\n                    </div>\r\n                    <div className={s.item}>\r\n                        <NavLink to={'/music'} activeClassName={s.activeLink}>Music</NavLink>\r\n                    </div>\r\n                    <div className={s.item}>\r\n                        <NavLink to={'/settings'} activeClassName={s.activeLink}>Settings</NavLink>\r\n                    </div>\r\n                    <div className={s.friends}>\r\n                        Friends\r\n                        <div className={s.friendsItem}>\r\n                            <Friends/>\r\n                        </div>\r\n                    </div>\r\n                </nav>\r\n            );\r\n};\r\n\r\nexport default Navbar","import s from './Music.module.css'\r\n\r\nconst Music = (props) =>{\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Music","import s from './News.module.css'\r\n\r\nconst News = (props) => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default News","import s from './Settings.module.css'\r\n\r\nconst Settings = (props) => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Settings","export const updateObjectInArray = (items, itemsId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemsId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n}","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/obj-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: [],\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n            }\r\n        case SET_USERS: {\r\n            return {\r\n                ...state, users: action.users\r\n            }\r\n        }\r\n        case\r\n        SET_CURRENT_PAGE: {\r\n            return {\r\n                ...state, currentPage: action.currentPage\r\n            }\r\n        }\r\n        case\r\n        SET_TOTAL_USERS_COUNT: {\r\n            return {\r\n                ...state, totalUsersCount: action.count\r\n            }\r\n        }\r\n        case\r\n        TOGGLE_IS_FETCHING: {\r\n            return {\r\n                ...state, isFetching: action.isFetching\r\n            }\r\n        }\r\n        case\r\n        TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId});\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, count: totalUsersCount});\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n});\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(page));\r\n\r\n        const data = await usersAPI.getUsers(page, pageSize)\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n    }\r\n};\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    const data = await apiMethod(userId)\r\n    if (data.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId))\r\n}\r\n\r\nexport const follow = (userId) => {\r\n    return (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.follow, followSuccess)\r\n    }\r\n};\r\n\r\nexport const unfollow = (userId) => {\r\n\r\n    return (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.unFollow, unfollowSuccess)\r\n    }\r\n};\r\n\r\nexport default usersReducer","import React, {useState} from \"react\";\r\nimport styles from './Paginator.module.css'\r\nimport cn from \"classnames\"\r\n\r\nlet Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n    let pages = [];\r\n\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return <div className={styles.paginator}>\r\n        {portionNumber > 1 &&\r\n            <button onClick={() => {\r\n                setPortionNumber(portionNumber - 1)\r\n            }}>PREV</button>}\r\n        {pages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber).map((p) => {\r\n            return <span className={cn({[styles.selectedPage]: currentPage === p}, styles.pageNumber)}\r\n                         key={p}\r\n                         onClick={(e) => {\r\n                             onPageChanged(p);\r\n                         }}>{p}</span>\r\n        })}\r\n        {portionCount > portionNumber &&\r\n            <button onClick={() => {\r\n                setPortionNumber(portionNumber + 1)\r\n            }}>NEXT</button>}\r\n    </div>\r\n}\r\n\r\nexport default Paginator","import React from \"react\";\r\nimport style from './Users.module.css'\r\nimport userPhoto from '../../assets/Image/pngegg.png'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet User = ({user, followingInProgress, follow, unfollow}) => {\r\n    return (<div>\r\n                <span>\r\n                    <div>\r\n                        <NavLink to={'/profile/' + user.id}>\r\n                        <img src={user.photos.small != null ? user.photos.small : userPhoto} className={style.photoUrl}\r\n                             alt={'no img'}/>\r\n                        </NavLink>\r\n                    </div>\r\n                    <div>\r\n                        {user.followed\r\n                            ? <button disabled={followingInProgress\r\n                                .some(id => id === user.id)} onClick={() => {\r\n                                unfollow(user.id)\r\n                            }\r\n                            }>UnFollow</button>\r\n\r\n                            : <button disabled={followingInProgress\r\n                                .some(id => id === user.id)} onClick={() => {\r\n                                follow(user.id)\r\n                            }\r\n                            }>Follow</button>}\r\n                    </div>\r\n                </span>\r\n                <span>\r\n                    <span>\r\n                        <div>{user.name}</div>\r\n                        <div>{user.status}</div>\r\n                    </span>\r\n                    <span>\r\n                        <div>u.location.country</div>\r\n                        <div>u.location.city</div>\r\n                    </span>\r\n                </span>\r\n    </div>)\r\n}\r\nexport default User","import React from \"react\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nlet Users = ({currentPage, totalUsersCount, pageSize, onPageChanged, users, ...props}) => {\r\n    return <div>\r\n        <Paginator currentPage={currentPage} totalItemsCount={totalUsersCount}\r\n                   pageSize={pageSize} onPageChanged={onPageChanged}/>\r\n        <div>\r\n            {\r\n                users.map(u => <User user={u}\r\n                                     followingInProgress={props.followingInProgress}\r\n                                     unfollow={props.unfollow}\r\n                                     follow={props.follow}\r\n                                     key={u.id}/>)}\r\n        </div>\r\n    </div>\r\n}\r\nexport default Users","import {createSelector} from \"reselect\";\r\n\r\nconst getUsersSelector = (state) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n    return users.filter(u => true);\r\n})\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}","import {connect} from \"react-redux\";\r\nimport {\r\n    follow, requestUsers,\r\n    setCurrentPage,\r\n    toggleFollowingProgress,\r\n    unfollow\r\n} from \"../../redux/users-reducer\";\r\nimport React from \"react\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount, getUsers\r\n} from \"../../redux/users-selectors\";\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props\r\n        this.props.getUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        const {pageSize} = this.props\r\n        this.props.getUsers(pageNumber, pageSize);\r\n    };\r\n\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users\r\n                totalUsersCount={this.props.totalUsersCount}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                onPageChanged={this.onPageChanged}\r\n                users={this.props.users}\r\n                unfollow={this.props.unfollow}\r\n                follow={this.props.follow}\r\n                toggleFollowingProgress={this.props.toggleFollowingProgress}\r\n                followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {follow, unfollow, setCurrentPage, toggleFollowingProgress, getUsers: requestUsers}),\r\n)(UsersContainer);","import logo from \"../../logoDJKILL.png\";\r\nimport s from \"./Header.module.css\"\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <img src={logo} alt='no img'/>\r\n            <div className={s.loginBlock}>\r\n                {props.isAuth ? <div>{props.login} - <button onClick={props.logout}>Log Out</button></div>\r\n                    : <NavLink to={'/login'}>Login</NavLink>}\r\n            </div>\r\n        </header>);\r\n}\r\n\r\nexport default Header","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUoAAACWCAYAAAC4osHlAAAhUklEQVR4Xu2dCZQU1bnHe2SHYUCIOIDigoBHEFkVozEakcgR8CUsLyDu0QcqLhjlgQs8JRANGMVoFDRBnyCCaATcN1BRVMQFEB12kFX2ZVhk6Pf72qp+RTMz3dUbPdP/Oueerq66de93f1X97+8udW8goE0EREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAEREAERCDrCeRkPYEyBCAYDNr9igxWgqAT3P1QqXJycg6WoeLJVBHIWAISygy8NQjiUY5Zdn8q7Ny58yzC2bt27WpSv379lQUFBefXrFmz0OJwPI+PKhaPYMJYxLkNubm5X61bt64x8efw2YZjy9mfzue3CGhRBhZbJolAxhKQUGbIrXHEsRLmnIAQDv/+++9bsF8ZkavVtGnTKghcDb6HBJRzAUQzZPkXX3wRaNasWQBhDH1v0KCB7R/kul1t27Z9lGvHc/hCwnmIahWO72d/C2E9wjk5Ly+vIEMQyAwRyFgCEsojeGtccVy7du1AxLEbQlYfQayLwIVUb968eYGZM2cGOB8gbtjSdu3ahfYRupAwuoLpRrD4FhYvXhwgvQDpBc4///z9bdq0Wcz374n3I2E1cRoinDXZ34ygPopoLj2COJS1CGQsAQllmm+N085YAZHqizheQ/YnInYN8QJD3uKsWbNCXqIJHeIWCohYSVaad2jV6L0EczEtjcoE80ytOl6VtHLMAyWvkOia90mauxHP10l3HHGqm3CSn1Xt7bo1xHk2zViUnQhkNAEJZZpuDwJpbYjVrVpt7Y2EFghVNct+0qRJgblz54YE0fH+Qp6gdzPhXL9+feiQxbXzCNoivh4g/JSfn/81grub/d8QjiGYVxpK39lMTDcglrUItU00zRvt06dPQZcuXTpxbg+hELsaYOPvSb+A9F9KEx5lIwIZTUBCmeLb43iQuXh2/0tWzRGg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\"","import {authAPI, securityAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\n\r\nconst SET_USER_DATA = 'react-project-social-network/auth/SET_USER_DATA';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'react-project-social-network/auth/GET_CAPTCHA_URL_SUCCESS';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    login: null,\r\n    email: null,\r\n    isAuth: false,\r\n    captchaUrl: null,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({\r\n    type: GET_CAPTCHA_URL_SUCCESS, payload: {captchaUrl}\r\n});\r\n\r\nexport const setAuthUserData = (userId, login, email, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    payload: {userId, login, email, isAuth}\r\n});\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    const response = await authAPI.me();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        let {id, login, email} = response.data.data;\r\n        dispatch(setAuthUserData(id, login, email, true));\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    const response = await authAPI.login(email, password, rememberMe, captcha);\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        if(response.data.resultCode === 10){\r\n            dispatch(getCaptchaUrl());\r\n        }\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n        dispatch(stopSubmit(\"login\", {_error: message}));\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n    const response = await securityAPI.getCaptchaUrl();\r\n    const captchaUrl = response.data.url;\r\n        dispatch(getCaptchaUrlSuccess(captchaUrl));\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    const response = await authAPI.logout();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false))\r\n    }\r\n}\r\n\r\nexport default authReducer","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\nimport {connect} from \"react-redux\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n})\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import {Field, reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../common/FormsControls/FormsControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport styles from \"./../common/FormsControls/FormControls.module.css\"\r\n\r\nconst LoginForm = ({handleSubmit, error, captchaUrl}) => {\r\n    return <form onSubmit={handleSubmit}>\r\n        {createField('Email', 'email', [required], Input)}\r\n        {createField('Password', 'password', [required], Input, {type: 'password'})}\r\n        {createField(null, 'rememberMe', [], Input, {type: 'checkbox'}, \"remember me\")}\r\n\r\n        {captchaUrl && <img src={captchaUrl} alt={\"no img\"}/>}\r\n        {captchaUrl && createField('Symbols from image', 'captcha', [required], Input)}\r\n\r\n        {error && <div className={styles.formSummaryError}>\r\n            {error}\r\n        </div>}\r\n        <div>\r\n            <button>logIn</button>\r\n        </div>\r\n    </form>\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm);\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n\r\n    return <div>\r\n        <h1>LOGIN</h1>\r\n        <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    captchaUrl: state.auth.captchaUrl,\r\n    isAuth: state.auth.isAuth,\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login)","import {getAuthUserData} from \"./auth-reducer\";\r\n\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(initializedSuccess());\r\n        })\r\n}\r\n\r\nexport default appReducer;","import React from \"react\";\r\nimport Preloader from \"../components/common/Preloader/Preloader\";\r\n\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={<Preloader/>}>\r\n            <Component {...props} />\r\n        </React.Suspense>\r\n    }\r\n}","import React from \"react\";\nimport './App.css';\nimport Navbar from \"./components/Navbar/Navbar\";\nimport Music from \"./components/Music/Music\";\nimport News from \"./components/News/News\";\nimport Settings from \"./components/Settings/Settings\";\nimport {Redirect, Route, Switch, withRouter} from \"react-router-dom\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport {initializeApp} from \"./redux/app-reducer\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\nimport {compose} from \"redux\";\nimport {withSuspense} from \"./Hok/withSuspense\";\n\nconst DialogsContainer = React.lazy(() => import(\"./components/Dialogs/DialogsContainer\"));\nconst ProfileContainer = React.lazy(() => import(\"./components/Profile/ProfileContainer\"));\n\nclass App extends Component {\n    catchAllUnhandledErrors = (reason, promise) => {\n        alert(\"Some error\")\n    }\n\n    componentDidMount() {\n        this.props.initializeApp();\n        window.addEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\n    }\n\n   componentWillUnmount() {\n       window.removeEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\n   }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n\n        return (\n            <div className={'app-wrapper'}>\n\n\n                <HeaderContainer/>\n                <Navbar/>\n\n                <div className={'app-wrapper-content'}>\n                    <Switch>\n                        {/*<Route path='/profile/:userId?' render={() => <Redirect to={\"/profile\"}/>}/>*/}\n                        <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)}/>\n                        <Route path='/dialogs' render={withSuspense(DialogsContainer)}/>\n                        <Route path='/music' render={() => <Music/>}/>\n                        <Route path='/news' render={() => <News/>}/>\n                        <Route path='/settings' render={() => <Settings/>}/>\n                        <Route path='/users' render={() => <UsersContainer/>}/>\n                        <Route path='/login' render={() => <Login/>}/>\n\n                        <Route path='*' render={() => <div>404 NOT FOUND</div>}/>\n                    </Switch>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized\n})\n\nexport default compose(\n    withRouter,\n    connect(mapStateToProps, {initializeApp}))(App);","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nexport default store","import './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport store from \"./redux/redux-store\";\nimport {Provider} from \"react-redux\";\nimport {BrowserRouter} from \"react-router-dom\";\n\n\nReactDOM.render(\n    <BrowserRouter>\n        <Provider store={store}>\n            <App/>\n        </Provider>\n    </BrowserRouter>, document.getElementById('root'));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","export default __webpack_public_path__ + \"static/media/Preloader.258f028f.svg\";","import preloader from '../../../assets/Image/Preloader.svg'\r\n\r\nlet Preloader = (props) => {\r\n    return <div style={{background: 'white'}}>\r\n        <img src={preloader}/>\r\n    </div>\r\n}\r\n\r\nexport default Preloader","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__eTnc6\",\"error\":\"FormControls_error__2RuuM\",\"formSummaryError\":\"FormControls_formSummaryError__1AjDF\"};","export const required = (values) => {\r\n    if (values) return undefined;\r\n\r\n    return \"Field is required\"\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (values) => {\r\n    if (values.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__39GUk\",\"pageNumber\":\"Paginator_pageNumber__16ddA\",\"selectedPage\":\"Paginator_selectedPage__1WpoV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1QU0W\",\"loginBlock\":\"Header_loginBlock__3_RR2\"};","import {profileAPI, usersAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\r\n\r\nlet initialState = {\r\n    postsData: [\r\n        {id: 1, message: 'Hi, how are you?', likesCount: 3},\r\n        {id: 2, message: 'It\\'s my first post', likesCount: 14},\r\n    ],\r\n    profile: null,\r\n    status: \"\",\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let text = action.newPostText\r\n            return {\r\n                ...state,\r\n                postsData: [...state.postsData, {id: 3, message: text, likesCount: 0}],\r\n                newPostText: '',\r\n            }\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state, profile: action.profile\r\n            }\r\n        case SET_STATUS:\r\n            return {\r\n                ...state, status: action.status\r\n            }\r\n        case DELETE_POST:\r\n            return {\r\n               ...state, postsData: state.postsData.filter(p => p.id != action.postsId)\r\n            }\r\n        case SAVE_PHOTO_SUCCESS:\r\n            return {\r\n                ...state, profile: {...state.profile, photos: action.photos }\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\r\nexport const deletePost = (postsId) => ({type: DELETE_POST, postsId})\r\nexport const setStatus = (status) => ({type: SET_STATUS, status})\r\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos})\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n   const response = await usersAPI.getProfile(userId)\r\n            dispatch(setUserProfile(response));\r\n};\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n   const response = await profileAPI.getStatus(userId)\r\n            dispatch(setStatus(response.data));\r\n};\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n   const response = await profileAPI.updateStatus(status)\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(setStatus(status));\r\n            }\r\n};\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    const response = await profileAPI.savePhoto(file)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos));\r\n    }\r\n};\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    const response = await profileAPI.saveProfile(profile)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getUserProfile(userId));\r\n    }else{\r\n        dispatch(stopSubmit(\"edit-profile\", {_error: response.data.messages[0]}))\r\n        return Promise.reject(response.data.messages[0])\r\n    }\r\n    // dispatch(stopSubmit(\"edit-profile\", {\"contacts\": {'facebook':response.data.messages[0]}}))\r\n};\r\n\r\n\r\nexport default profileReducer\r\n"],"sourceRoot":""}